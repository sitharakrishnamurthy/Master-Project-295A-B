<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        video {
            -webkit-transform: scaleX(-1);
            transform: scaleX(-1);
        }
    </style>
</head>

<body>
    <div class="row" style="border-style: ridge;">
        <div class="container-fluid">
            <h3 style="font-family: ABeeZee; text-transform: uppercase;">Glasses Try On</h3>
            <h5 style="font-family: ABeeZee;">Please click on a pair of glasses to try them on.</h5>
            <div class="container-fluid">
                <div id="carouselExample" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner row w-100 mx-auto" role="listbox">
                        <div class="carousel-item col-md-3  active">
                            <div class="panel panel-default">
                                <div type="button" id="Glasses1" onclick="pick(1);" class="panel-thumbnail">
                                    <a href="#" title="image 1" class="thumb">
                                        <img class="img-fluid mx-auto d-block" src="../images/glasses/Glasses1.png"
                                            alt="slide 1" style="width:170px;height:70px;">
                                        <figcaption style="text-align: center">Glasses 1</figcaption>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item col-md-3">
                            <div class="panel panel-default">
                                <div type="button" id="Glasses2" onclick="pick(2);" class="panel-thumbnail">
                                    <a href="#" title="image 2" class="thumb">
                                        <img class="img-fluid mx-auto d-block" src="../images/glasses/Glasses2.png"
                                            alt="slide 2" style="width:170px;height:70px;">
                                        <figcaption style="text-align: center">Glasses 2</figcaption>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item col-md-3">
                            <div class="panel panel-default">
                                <div type="button" id="Glasses3" onclick="pick(3);" class="panel-thumbnail">
                                    <a href="#" title="image 3" class="thumb">
                                        <img class="img-fluid mx-auto d-block" src="../images/glasses/Glasses3.png"
                                            alt="slide 3" style="width:170px;height:70px;">
                                        <figcaption style="text-align: center">Glasses 3</figcaption>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item col-md-3">
                            <div class="panel panel-default">
                                <div type="button" id="Glasses4" onclick="pick(4);" class="panel-thumbnail">
                                    <a href="#" title="image 4" class="thumb">
                                        <img class="img-fluid mx-auto d-block" src="../images/glasses/Glasses4.png"
                                            alt="slide 4" style="width:170px;height:70px;">
                                        <figcaption style="text-align: center">Glasses 4</figcaption>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item col-md-3">
                            <div class="panel panel-default">
                                <div type="button" id="Glasses5" onclick="pick(5);" class="panel-thumbnail">
                                    <a href="#" title="image 5" class="thumb">
                                        <img class="img-fluid mx-auto d-block" src="../images/glasses/Glasses5.png"
                                            alt="slide 5" style="width:170px;height:70px;">
                                        <figcaption style="text-align: center">Glasses 5</figcaption>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev text-faded" href="#carouselExample" role="button" data-slide="prev"
                        style="
                                    background: gray;
                                    margin-left: -1%;
                                    height: 50%;
                                    width: 5%;
                                    margin-top: 2%;">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next text-faded" href="#carouselExample" role="button" data-slide="next"
                        style="
                                        background:gray;
                                        margin-right: -1%;
                                        height: 50%;
                                        width: 5%;
                                        margin-top: 2%;">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div id="tryon" class='tryon'>
                <video id="g_camera" loop></video>
                <canvas id="overlay" class="overlay"></canvas>
            </div>
            <div id="debug"></div>
        </div>
    </div>


    <script>
        $('#carouselExample').on('slide.bs.carousel', function (e) {
            var $e = $(e.relatedTarget);
            var idx = $e.index();
            var itemsPerSlide = 3;
            var totalItems = $('.carousel-item').length;
            if (idx >= totalItems - (itemsPerSlide - 1)) {
                var it = itemsPerSlide - (totalItems - idx);
                for (var i = 0; i < it; i++) {
                    // append slides to end
                    if (e.direction == "left") {
                        $('.carousel-item').eq(i).appendTo('.carousel-inner');
                    } else {
                        $('.carousel-item').eq(0).appendTo('.carousel-inner');
                    }
                }
            }
        });
    </script>


</body>

</html>